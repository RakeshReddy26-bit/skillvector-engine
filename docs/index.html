<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>SkillVector — AI Career Intelligence Platform</title>
<meta name="description" content="AI-powered skill gap analysis. Paste your resume, get a match score, learning path, evidence projects, and interview prep. Powered by Claude."/>
<meta property="og:title" content="SkillVector — AI Career Intelligence Platform"/>
<meta property="og:description" content="Deterministic skill gap analysis. Real evidence. Zero noise. 115 tests. Open source."/>
<meta property="og:type" content="website"/>
<link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=DM+Mono:wght@300;400;500&display=swap" rel="stylesheet"/>
<style>
  :root {
    --bg: #080b10;
    --surface: #0d1117;
    --surface2: #141b24;
    --border: rgba(255,255,255,0.07);
    --accent: #00e5a0;
    --accent2: #7c6fff;
    --text: #e8edf5;
    --muted: #5a6478;
    --warn: #ff6b6b;
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  body { background:var(--bg); color:var(--text); font-family:'Syne',sans-serif; min-height:100vh; overflow-x:hidden; }

  /* NOISE OVERLAY */
  body::before {
    content:''; position:fixed; inset:0; pointer-events:none; z-index:0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.03'/%3E%3C/svg%3E");
    opacity:0.4;
  }

  /* GRID LINES */
  body::after {
    content:''; position:fixed; inset:0; pointer-events:none; z-index:0;
    background-image: linear-gradient(var(--border) 1px, transparent 1px),
                      linear-gradient(90deg, var(--border) 1px, transparent 1px);
    background-size: 60px 60px;
    opacity:0.4;
  }

  /* TOP GLOW */
  .glow-orb {
    position:fixed; top:-200px; left:50%; transform:translateX(-50%);
    width:800px; height:400px; border-radius:50%;
    background: radial-gradient(ellipse, rgba(0,229,160,0.07) 0%, transparent 70%);
    pointer-events:none; z-index:0;
  }

  .container { position:relative; z-index:1; max-width:1200px; margin:0 auto; padding:0 32px; }

  /* NAV */
  nav {
    border-bottom:1px solid var(--border);
    backdrop-filter:blur(20px);
    background:rgba(8,11,16,0.8);
    position:sticky; top:0; z-index:100;
  }
  .nav-inner { display:flex; align-items:center; justify-content:space-between; height:60px; }
  .logo { font-size:18px; font-weight:800; letter-spacing:-0.5px; }
  .logo span { color:var(--accent); }
  .nav-tag {
    font-family:'DM Mono', monospace; font-size:10px; color:var(--accent);
    background:rgba(0,229,160,0.08); border:1px solid rgba(0,229,160,0.2);
    padding:3px 10px; border-radius:3px; letter-spacing:1px;
  }
  .nav-links { display:flex; align-items:center; gap:20px; }
  .nav-link {
    font-family:'DM Mono',monospace; font-size:11px; color:var(--muted);
    text-decoration:none; letter-spacing:0.5px; transition:color 0.2s;
  }
  .nav-link:hover { color:var(--accent); }
  .nav-status { display:flex; align-items:center; gap:6px; font-family:'DM Mono',monospace; font-size:11px; color:var(--muted); }
  .dot { width:6px; height:6px; background:var(--muted); border-radius:50%; }
  .dot.live { background:var(--accent); animation:pulse 2s ease infinite; }
  @keyframes pulse { 0%,100%{opacity:1} 50%{opacity:0.3} }

  /* HERO */
  .hero { padding:80px 0 60px; text-align:center; }
  .hero-label {
    display:inline-block; font-family:'DM Mono',monospace; font-size:11px; letter-spacing:2px;
    color:var(--accent); background:rgba(0,229,160,0.06); border:1px solid rgba(0,229,160,0.15);
    padding:6px 16px; border-radius:2px; margin-bottom:32px;
    animation: fadeUp 0.6s ease both;
  }
  .hero h1 {
    font-size:clamp(40px,6vw,72px); font-weight:800; line-height:1.05;
    letter-spacing:-2px; animation: fadeUp 0.6s 0.1s ease both;
  }
  .hero h1 em { font-style:normal; color:var(--accent); }
  .hero p {
    margin-top:20px; font-family:'DM Mono',monospace; font-size:14px;
    color:var(--muted); max-width:500px; margin-inline:auto; line-height:1.7;
    animation: fadeUp 0.6s 0.2s ease both;
  }

  @keyframes fadeUp { from{opacity:0;transform:translateY(20px)} to{opacity:1;transform:none} }

  /* INPUT ZONE */
  .input-zone {
    margin:40px auto 0; max-width:700px;
    border:1px solid rgba(0,229,160,0.15); border-radius:10px;
    padding:32px; text-align:left;
    background:var(--surface); transition:all 0.3s;
    animation: fadeUp 0.6s 0.3s ease both;
  }
  .input-zone label {
    display:block; font-family:'DM Mono',monospace; font-size:11px;
    color:var(--muted); letter-spacing:1px; margin-bottom:8px;
  }
  .input-zone textarea {
    width:100%; min-height:140px; background:var(--surface2); border:1px solid var(--border);
    color:var(--text); padding:14px 16px; border-radius:6px; font-family:'DM Mono',monospace;
    font-size:12px; line-height:1.6; outline:none; resize:vertical; transition:border 0.2s;
  }
  .input-zone textarea:focus { border-color:rgba(0,229,160,0.4); }
  .input-zone textarea::placeholder { color:var(--muted); }
  .input-row { display:flex; gap:12px; margin-top:16px; }
  .input-row input {
    flex:1; background:var(--surface2); border:1px solid var(--border);
    color:var(--text); padding:12px 16px; border-radius:6px; font-family:'Syne',sans-serif;
    font-size:13px; outline:none; transition:border 0.2s;
  }
  .input-row input:focus { border-color:rgba(0,229,160,0.4); }
  .input-row input::placeholder { color:var(--muted); }
  .btn {
    padding:12px 28px; background:var(--accent); color:#000; font-family:'Syne',sans-serif;
    font-weight:700; font-size:13px; border:none; border-radius:6px; cursor:pointer;
    letter-spacing:0.5px; transition:all 0.2s; text-decoration:none; display:inline-block;
  }
  .btn:hover { background:#00ffb3; transform:translateY(-1px); }
  .btn:disabled { opacity:0.5; cursor:not-allowed; transform:none; }
  .btn-outline {
    padding:12px 28px; background:transparent; color:var(--accent); font-family:'Syne',sans-serif;
    font-weight:700; font-size:13px; border:1px solid rgba(0,229,160,0.3); border-radius:6px;
    cursor:pointer; letter-spacing:0.5px; transition:all 0.2s; text-decoration:none;
  }
  .btn-outline:hover { border-color:var(--accent); background:rgba(0,229,160,0.05); }

  /* STATUS MESSAGES */
  .status-msg {
    margin-top:16px; padding:12px 16px; border-radius:6px;
    font-family:'DM Mono',monospace; font-size:12px; line-height:1.6;
    display:none;
  }
  .status-msg.loading {
    display:block; background:rgba(0,229,160,0.06); border:1px solid rgba(0,229,160,0.15);
    color:var(--accent);
  }
  .status-msg.error {
    display:block; background:rgba(255,107,107,0.06); border:1px solid rgba(255,107,107,0.15);
    color:var(--warn);
  }
  .spinner {
    display:inline-block; width:14px; height:14px; border:2px solid rgba(0,229,160,0.3);
    border-top-color:var(--accent); border-radius:50%; animation:spin 0.8s linear infinite;
    vertical-align:middle; margin-right:8px;
  }
  @keyframes spin { to{transform:rotate(360deg)} }

  /* SECTION */
  .section { padding:60px 0; }
  .section-header { display:flex; align-items:center; gap:12px; margin-bottom:32px; }
  .section-num { font-family:'DM Mono',monospace; font-size:11px; color:var(--accent); border:1px solid rgba(0,229,160,0.2); padding:4px 10px; border-radius:2px; }
  .section-title { font-size:20px; font-weight:700; }

  /* SCORE PANEL */
  .score-panel {
    background:var(--surface); border:1px solid var(--border); border-radius:12px;
    padding:40px; display:flex; align-items:center; gap:48px;
    position:relative; overflow:hidden;
  }
  .score-panel::before {
    content:''; position:absolute; top:-60px; right:-60px;
    width:200px; height:200px; border-radius:50%;
    background:radial-gradient(ellipse, rgba(0,229,160,0.06), transparent 70%);
  }
  .score-ring {
    width:160px; height:160px; flex-shrink:0; position:relative;
  }
  .score-ring svg { transform:rotate(-90deg); }
  .score-ring .track { fill:none; stroke:rgba(255,255,255,0.05); stroke-width:8; }
  .score-ring .fill {
    fill:none; stroke:var(--accent); stroke-width:8;
    stroke-linecap:round; stroke-dasharray:440;
    filter:drop-shadow(0 0 6px rgba(0,229,160,0.5));
    transition: stroke-dashoffset 1.5s ease;
  }
  .score-center {
    position:absolute; inset:0; display:flex; flex-direction:column;
    align-items:center; justify-content:center;
  }
  .score-num { font-size:38px; font-weight:800; color:var(--accent); line-height:1; }
  .score-label { font-family:'DM Mono',monospace; font-size:10px; color:var(--muted); margin-top:4px; }
  .score-info h2 { font-size:26px; font-weight:800; margin-bottom:8px; }
  .score-info p { font-family:'DM Mono',monospace; font-size:12px; color:var(--muted); line-height:1.7; max-width:400px; }
  .badges { display:flex; gap:8px; margin-top:20px; flex-wrap:wrap; }
  .badge {
    font-family:'DM Mono',monospace; font-size:10px; padding:4px 12px;
    border-radius:2px; letter-spacing:1px;
  }
  .badge-green { background:rgba(0,229,160,0.1); color:var(--accent); border:1px solid rgba(0,229,160,0.2); }
  .badge-purple { background:rgba(124,111,255,0.1); color:var(--accent2); border:1px solid rgba(124,111,255,0.2); }
  .badge-red { background:rgba(255,107,107,0.1); color:var(--warn); border:1px solid rgba(255,107,107,0.2); }

  /* GRID 3 */
  .grid3 { display:grid; grid-template-columns:repeat(3,1fr); gap:16px; }
  .grid2 { display:grid; grid-template-columns:repeat(2,1fr); gap:16px; }
  @media(max-width:768px){ .grid3,.grid2{ grid-template-columns:1fr; } .score-panel{ flex-direction:column; } .input-row{ flex-direction:column; } }

  /* SKILL CARD */
  .skill-card {
    background:var(--surface); border:1px solid var(--border); border-radius:10px;
    padding:24px; transition:all 0.3s; position:relative; overflow:hidden;
  }
  .skill-card:hover { border-color:rgba(0,229,160,0.2); transform:translateY(-2px); }
  .skill-card::before {
    content:''; position:absolute; top:0; left:0; right:0; height:2px;
  }
  .skill-card.high::before { background:linear-gradient(90deg, var(--warn), transparent); }
  .skill-card.med::before { background:linear-gradient(90deg, #f59e0b, transparent); }
  .skill-card.low::before { background:linear-gradient(90deg, var(--accent2), transparent); }
  .skill-name { font-size:15px; font-weight:700; margin-bottom:8px; }
  .skill-why { font-family:'DM Mono',monospace; font-size:11px; color:var(--muted); line-height:1.6; margin-bottom:14px; }
  .priority { display:inline-flex; align-items:center; gap:6px; font-family:'DM Mono',monospace; font-size:10px; letter-spacing:1px; }
  .priority-dot { width:5px; height:5px; border-radius:50%; }
  .high-color { color:var(--warn); } .high-dot { background:var(--warn); }
  .med-color { color:#f59e0b; } .med-dot { background:#f59e0b; }
  .low-color { color:var(--accent2); } .low-dot { background:var(--accent2); }

  /* TIMELINE */
  .timeline { position:relative; padding-left:32px; }
  .timeline::before { content:''; position:absolute; left:8px; top:8px; bottom:8px; width:1px; background:var(--border); }
  .t-item { position:relative; margin-bottom:24px; }
  .t-dot {
    position:absolute; left:-28px; top:4px; width:10px; height:10px;
    background:var(--surface); border:2px solid var(--border); border-radius:50%;
    transition:all 0.3s;
  }
  .t-item:hover .t-dot { border-color:var(--accent); background:var(--accent); }
  .t-card {
    background:var(--surface); border:1px solid var(--border); border-radius:8px;
    padding:18px 20px; transition:all 0.3s;
  }
  .t-item:hover .t-card { border-color:rgba(0,229,160,0.15); }
  .t-header { display:flex; justify-content:space-between; align-items:flex-start; margin-bottom:6px; }
  .t-title { font-size:14px; font-weight:700; }
  .t-dur { font-family:'DM Mono',monospace; font-size:10px; color:var(--accent); background:rgba(0,229,160,0.08); border:1px solid rgba(0,229,160,0.15); padding:2px 8px; border-radius:2px; }
  .t-desc { font-family:'DM Mono',monospace; font-size:11px; color:var(--muted); line-height:1.6; }

  /* EVIDENCE CARD */
  .ev-card {
    background:var(--surface); border:1px solid var(--border); border-radius:10px;
    padding:24px; transition:all 0.3s;
  }
  .ev-card:hover { border-color:rgba(124,111,255,0.3); }
  .ev-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }
  .ev-title { font-size:14px; font-weight:700; }
  .ev-skill { font-family:'DM Mono',monospace; font-size:10px; color:var(--accent2); background:rgba(124,111,255,0.08); border:1px solid rgba(124,111,255,0.15); padding:2px 8px; border-radius:2px; }
  .ev-desc { font-family:'DM Mono',monospace; font-size:11px; color:var(--muted); line-height:1.6; margin-bottom:16px; }
  .deliverables { display:flex; flex-direction:column; gap:6px; }
  .deliverable { display:flex; align-items:center; gap:8px; font-family:'DM Mono',monospace; font-size:11px; color:var(--muted); }
  .deliverable::before { content:'\2192'; color:var(--accent); font-size:10px; }

  /* JOB CARD */
  .job-card {
    background:var(--surface); border:1px solid var(--border); border-radius:10px;
    padding:20px 24px; display:flex; align-items:center; gap:20px; transition:all 0.3s;
  }
  .job-card:hover { border-color:rgba(0,229,160,0.2); transform:translateX(4px); }
  .job-match {
    font-size:22px; font-weight:800; color:var(--accent); min-width:56px; text-align:center;
    font-family:'DM Mono',monospace;
  }
  .job-match small { display:block; font-size:9px; color:var(--muted); font-weight:400; }
  .job-info { flex:1; }
  .job-title { font-size:14px; font-weight:700; margin-bottom:3px; }
  .job-co { font-family:'DM Mono',monospace; font-size:11px; color:var(--muted); margin-bottom:8px; }
  .job-skills { display:flex; gap:6px; flex-wrap:wrap; }
  .jskill { font-family:'DM Mono',monospace; font-size:9px; padding:2px 8px; background:var(--surface2); border:1px solid var(--border); border-radius:2px; color:var(--muted); }
  .job-arrow { color:var(--muted); font-size:18px; transition:all 0.2s; }
  .job-card:hover .job-arrow { color:var(--accent); transform:translateX(4px); }

  /* STATS BAR */
  .stats-bar {
    display:grid; grid-template-columns:repeat(4,1fr); gap:16px;
    margin:60px 0; padding:40px 0;
    border-top:1px solid var(--border); border-bottom:1px solid var(--border);
  }
  @media(max-width:768px){ .stats-bar{ grid-template-columns:repeat(2,1fr); } }
  .stat { text-align:center; }
  .stat-num { font-size:32px; font-weight:800; color:var(--accent); line-height:1; margin-bottom:6px; font-family:'DM Mono',monospace; }
  .stat-label { font-family:'DM Mono',monospace; font-size:10px; color:var(--muted); letter-spacing:1.5px; }

  /* CTA SECTION */
  .cta-section {
    margin:60px 0; padding:60px 40px; text-align:center;
    background:var(--surface); border:1px solid var(--border); border-radius:12px;
    position:relative; overflow:hidden;
  }
  .cta-section::before {
    content:''; position:absolute; top:-100px; left:50%; transform:translateX(-50%);
    width:600px; height:300px; border-radius:50%;
    background:radial-gradient(ellipse, rgba(0,229,160,0.06), transparent 70%);
  }
  .cta-section h2 { font-size:32px; font-weight:800; letter-spacing:-1px; margin-bottom:12px; position:relative; }
  .cta-section p { font-family:'DM Mono',monospace; font-size:13px; color:var(--muted); margin-bottom:32px; max-width:480px; margin-inline:auto; line-height:1.7; position:relative; }
  .cta-buttons { display:flex; gap:16px; justify-content:center; position:relative; }

  /* TECH STACK */
  .stack-section { padding:40px 0; }
  .stack-grid { display:flex; gap:12px; flex-wrap:wrap; justify-content:center; }
  .stack-chip {
    font-family:'DM Mono',monospace; font-size:11px; padding:8px 16px;
    background:var(--surface); border:1px solid var(--border); border-radius:6px;
    color:var(--muted); transition:all 0.2s;
  }
  .stack-chip:hover { border-color:rgba(0,229,160,0.3); color:var(--text); }

  /* FOOTER */
  footer {
    margin-top:40px; border-top:1px solid var(--border);
    padding:32px 0; text-align:center;
  }
  footer p { font-family:'DM Mono',monospace; font-size:11px; color:var(--muted); }
  footer span { color:var(--accent); }
  .footer-links { display:flex; gap:24px; justify-content:center; margin-top:12px; }
  .footer-links a { font-family:'DM Mono',monospace; font-size:11px; color:var(--muted); text-decoration:none; transition:color 0.2s; }
  .footer-links a:hover { color:var(--accent); }

  /* INTERVIEW PREP */
  .interview-card {
    background:var(--surface); border:1px solid var(--border); border-radius:10px;
    padding:24px; transition:all 0.3s;
  }
  .interview-card:hover { border-color:rgba(0,229,160,0.2); }
  .interview-skill { font-size:15px; font-weight:700; margin-bottom:4px; }
  .interview-difficulty {
    font-family:'DM Mono',monospace; font-size:10px; color:var(--accent);
    background:rgba(0,229,160,0.08); border:1px solid rgba(0,229,160,0.15);
    padding:2px 8px; border-radius:2px; display:inline-block; margin-bottom:12px;
  }
  .interview-q {
    font-family:'DM Mono',monospace; font-size:11px; color:var(--muted);
    line-height:1.6; padding:6px 0; border-bottom:1px solid var(--border);
  }
  .interview-q:last-child { border-bottom:none; }

  /* LATENCY BAR */
  .latency-bar {
    margin-top:12px; font-family:'DM Mono',monospace; font-size:11px; color:var(--muted);
    text-align:center;
  }
  .latency-bar span { color:var(--accent); }
</style>
</head>
<body>
<div class="glow-orb"></div>

<nav>
  <div class="container">
    <div class="nav-inner">
      <div class="logo">Skill<span>Vector</span></div>
      <div class="nav-tag">V2.0 PRODUCTION</div>
      <div class="nav-links">
        <a href="https://github.com/RakeshReddy26-bit/skillvector-engine" class="nav-link" target="_blank">GITHUB</a>
        <div class="nav-status"><div class="dot" id="statusDot"></div><span id="statusText">CHECKING API...</span></div>
      </div>
    </div>
  </div>
</nav>

<!-- HERO -->
<div class="container">
  <div class="hero">
    <div class="hero-label">AI CAREER INTELLIGENCE PLATFORM</div>
    <h1>Your Career,<br/><em>Signal-First.</em></h1>
    <p>Deterministic skill gap analysis. Real evidence projects. Prerequisite-ordered learning paths. Built on Claude Sonnet. 115 tests. Open source.</p>

    <!-- INPUT ZONE -->
    <div class="input-zone" id="inputZone">
      <label>PASTE YOUR RESUME</label>
      <textarea id="resumeInput" placeholder="Paste your full resume text here... (minimum 50 characters)"></textarea>
      <label style="margin-top:16px;">TARGET JOB DESCRIPTION</label>
      <textarea id="jobInput" style="min-height:100px;" placeholder="Paste the target job description here... (minimum 50 characters)"></textarea>
      <div class="input-row" style="margin-top:20px; justify-content:center;">
        <button class="btn" id="analyzeBtn" onclick="analyzeResume()">ANALYZE MY SKILLS &rarr;</button>
      </div>
      <div class="status-msg" id="statusMsg"></div>
    </div>
  </div>

  <!-- STATS BAR -->
  <div class="stats-bar">
    <div class="stat">
      <div class="stat-num">115</div>
      <div class="stat-label">AUTOMATED TESTS</div>
    </div>
    <div class="stat">
      <div class="stat-num">32</div>
      <div class="stat-label">SKILLS IN DAG</div>
    </div>
    <div class="stat">
      <div class="stat-num">55</div>
      <div class="stat-label">INDEXED JOBS</div>
    </div>
    <div class="stat">
      <div class="stat-num">7</div>
      <div class="stat-label">PIPELINE STEPS</div>
    </div>
  </div>

  <!-- RESULTS (hidden until analysis completes) -->
  <div id="results" style="display:none;">

    <!-- 01 MATCH SCORE -->
    <div class="section">
      <div class="section-header">
        <span class="section-num">01</span>
        <span class="section-title">Intelligence Score</span>
      </div>
      <div class="score-panel">
        <div class="score-ring">
          <svg width="160" height="160" viewBox="0 0 160 160">
            <circle class="track" cx="80" cy="80" r="70"/>
            <circle class="fill" id="scoreRingFill" cx="80" cy="80" r="70" stroke-dashoffset="440"/>
          </svg>
          <div class="score-center">
            <div class="score-num" id="scoreNum">0</div>
            <div class="score-label">MATCH %</div>
          </div>
        </div>
        <div class="score-info">
          <h2 id="scoreTitle">Analyzing...</h2>
          <p id="scoreDesc"></p>
          <div class="badges" id="scoreBadges"></div>
        </div>
      </div>
    </div>

    <!-- 02 SKILL GAPS -->
    <div class="section">
      <div class="section-header">
        <span class="section-num">02</span>
        <span class="section-title">Missing Skills — Critical Gaps</span>
      </div>
      <div class="grid3" id="skillsGrid"></div>
    </div>

    <!-- 03 LEARNING PATH -->
    <div class="section">
      <div class="section-header">
        <span class="section-num">03</span>
        <span class="section-title">Learning Path — Prerequisite Ordered</span>
      </div>
      <div class="timeline" id="learningTimeline"></div>
    </div>

    <!-- 04 EVIDENCE -->
    <div class="section">
      <div class="section-header">
        <span class="section-num">04</span>
        <span class="section-title">Evidence Builder — Portfolio Projects</span>
      </div>
      <div class="grid2" id="evidenceGrid"></div>
    </div>

    <!-- 05 INTERVIEW PREP -->
    <div class="section" id="interviewSection" style="display:none;">
      <div class="section-header">
        <span class="section-num">05</span>
        <span class="section-title">Interview Prep</span>
      </div>
      <div class="grid2" id="interviewGrid"></div>
    </div>

    <!-- 06 RELATED JOBS -->
    <div class="section" id="jobsSection" style="display:none;">
      <div class="section-header">
        <span class="section-num">06</span>
        <span class="section-title">Related Jobs — Semantic Match via Pinecone</span>
      </div>
      <div style="display:flex; flex-direction:column; gap:10px;" id="jobsList"></div>
    </div>

    <div class="latency-bar" id="latencyBar"></div>
  </div>

  <!-- TECH STACK -->
  <div class="stack-section">
    <div class="section-header" style="justify-content:center;">
      <span class="section-num">STACK</span>
      <span class="section-title">What Powers SkillVector</span>
    </div>
    <div class="stack-grid">
      <div class="stack-chip">Python 3.11</div>
      <div class="stack-chip">Claude Sonnet (Anthropic)</div>
      <div class="stack-chip">FastAPI</div>
      <div class="stack-chip">Pinecone</div>
      <div class="stack-chip">Neo4j</div>
      <div class="stack-chip">LangChain</div>
      <div class="stack-chip">Sentence Transformers</div>
      <div class="stack-chip">115 Pytest Tests</div>
      <div class="stack-chip">Render (Free Tier)</div>
    </div>
  </div>

  <!-- CTA -->
  <div class="cta-section">
    <h2>Try It Free. <em style="color:var(--accent); font-style:normal;">Right Now.</em></h2>
    <p>Paste any resume. Paste any job description. Get your skill gap analysis in under 30 seconds. No signup required.</p>
    <div class="cta-buttons">
      <button class="btn" onclick="document.getElementById('resumeInput').focus(); window.scrollTo({top:0,behavior:'smooth'});">START ANALYSIS &rarr;</button>
      <a href="https://github.com/RakeshReddy26-bit/skillvector-engine" class="btn-outline" target="_blank">VIEW SOURCE CODE</a>
    </div>
  </div>
</div>

<footer>
  <div class="container">
    <p>SkillVector v2.0 &middot; Powered by <span>Claude Sonnet</span> &middot; Open source &middot; Built by Rakesh Reddy</p>
    <div class="footer-links">
      <a href="https://github.com/RakeshReddy26-bit/skillvector-engine" target="_blank">GitHub</a>
    </div>
  </div>
</footer>

<script>
const API_BASE = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1'
  ? window.location.origin
  : 'https://api.skill-vector.com';

// ── Pre-warm backend on page load ─────────────────────────────────────────
(async function warmUp() {
  const dot = document.getElementById('statusDot');
  const txt = document.getElementById('statusText');
  try {
    const start = Date.now();
    txt.textContent = 'WAKING SERVER...';
    const res = await fetch(API_BASE + '/health', { signal: AbortSignal.timeout(15000) });
    const elapsed = Date.now() - start;
    if (res.ok) {
      dot.classList.add('live');
      txt.textContent = 'API CONNECTED (' + elapsed + 'ms)';
    } else {
      txt.textContent = 'API ERROR';
    }
  } catch (_) {
    txt.textContent = 'API OFFLINE';
  }
})();

// ── Analyze Resume ────────────────────────────────────────────────────────
async function analyzeResume() {
  const resume = document.getElementById('resumeInput').value.trim();
  const job = document.getElementById('jobInput').value.trim();
  const btn = document.getElementById('analyzeBtn');
  const msg = document.getElementById('statusMsg');

  // Validate
  if (resume.length < 50) {
    showError(msg, 'Resume must be at least 50 characters.');
    return;
  }
  if (job.length < 50) {
    showError(msg, 'Job description must be at least 50 characters.');
    return;
  }

  // Loading state
  btn.disabled = true;
  btn.textContent = 'ANALYZING...';
  msg.className = 'status-msg loading';
  msg.innerHTML = '<span class="spinner"></span>Running 7-step pipeline with Claude Sonnet... This typically takes 15-30 seconds.';
  msg.style.display = 'block';
  document.getElementById('results').style.display = 'none';

  try {
    const controller = new AbortController();
    const timeout = setTimeout(() => controller.abort(), 120000);

    const res = await fetch(API_BASE + '/analyze', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ resume: resume, target_job: job }),
      signal: controller.signal,
    });
    clearTimeout(timeout);

    if (!res.ok) {
      const err = await res.json().catch(() => ({ error: 'Request failed with status ' + res.status }));
      throw new Error(err.error || 'Analysis failed');
    }

    const data = await res.json();
    msg.style.display = 'none';
    renderResults(data);

  } catch (e) {
    if (e.name === 'AbortError') {
      showError(msg, 'Request timed out after 2 minutes. The server may be cold-starting — please try again.');
    } else {
      showError(msg, e.message || 'Something went wrong. Please try again.');
    }
  } finally {
    btn.disabled = false;
    btn.textContent = 'ANALYZE MY SKILLS \u2192';
  }
}

function showError(el, text) {
  el.className = 'status-msg error';
  el.textContent = text;
  el.style.display = 'block';
}

// ── Render Results ────────────────────────────────────────────────────────
function renderResults(data) {
  const results = document.getElementById('results');
  results.style.display = 'block';

  // 01 — Score ring
  const score = Math.round(data.match_score);
  const offset = 440 - (440 * score / 100);
  document.getElementById('scoreRingFill').setAttribute('stroke-dashoffset', '440');
  requestAnimationFrame(() => {
    document.getElementById('scoreRingFill').setAttribute('stroke-dashoffset', String(offset));
  });
  document.getElementById('scoreNum').textContent = score;

  // Score title
  let title = 'Analysis Complete';
  if (score >= 80) title = 'Excellent Match';
  else if (score >= 60) title = 'Strong Candidate Signal';
  else if (score >= 40) title = 'Moderate Match — Growth Needed';
  else title = 'Significant Gaps Detected';
  document.getElementById('scoreTitle').textContent = title;

  // Score description
  document.getElementById('scoreDesc').textContent =
    'Match score: ' + score + '%. Learning priority: ' + data.learning_priority +
    '. ' + data.missing_skills.length + ' skill gap(s) identified.';

  // Badges — missing skills
  const badgesEl = document.getElementById('scoreBadges');
  badgesEl.innerHTML = '';
  data.missing_skills.forEach(function(s) {
    const span = document.createElement('span');
    span.className = 'badge badge-red';
    span.textContent = '\u2717 MISSING: ' + s;
    badgesEl.appendChild(span);
  });

  // 02 — Skill cards
  const grid = document.getElementById('skillsGrid');
  grid.innerHTML = '';
  data.missing_skills.forEach(function(skill, i) {
    const prio = i < 2 ? 'high' : (i < 4 ? 'med' : 'low');
    const prioLabel = prio === 'high' ? 'CRITICAL PRIORITY' : (prio === 'med' ? 'MEDIUM PRIORITY' : 'GROWTH SIGNAL');
    const card = document.createElement('div');
    card.className = 'skill-card ' + prio;
    card.innerHTML =
      '<div class="skill-name">' + esc(skill) + '</div>' +
      '<div class="skill-why">Identified as a gap between your resume and the target role.</div>' +
      '<div class="priority ' + prio + '-color"><span class="priority-dot ' + prio + '-dot"></span>' + prioLabel + '</div>';
    grid.appendChild(card);
  });

  // 03 — Learning path
  const timeline = document.getElementById('learningTimeline');
  timeline.innerHTML = '';
  data.learning_path.forEach(function(step, i) {
    const item = document.createElement('div');
    item.className = 't-item';
    item.innerHTML =
      '<div class="t-dot"></div>' +
      '<div class="t-card">' +
        '<div class="t-header">' +
          '<div class="t-title">Step ' + (i + 1) + ' \u00B7 ' + esc(step.skill) + '</div>' +
          '<div class="t-dur">' + (step.estimated_weeks || 2) + ' WEEKS</div>' +
        '</div>' +
        '<div class="t-desc">Estimated ' + (step.estimated_days || 14) + ' days of focused study.</div>' +
      '</div>';
    timeline.appendChild(item);
  });

  // 04 — Evidence projects
  const evGrid = document.getElementById('evidenceGrid');
  evGrid.innerHTML = '';
  data.evidence.forEach(function(ev) {
    const card = document.createElement('div');
    card.className = 'ev-card';
    let delivHtml = '';
    if (ev.deliverables && ev.deliverables.length) {
      delivHtml = '<div class="deliverables">' +
        ev.deliverables.map(function(d) { return '<div class="deliverable">' + esc(d) + '</div>'; }).join('') +
        '</div>';
    }
    card.innerHTML =
      '<div class="ev-header">' +
        '<div class="ev-title">' + esc(ev.project || ev.skill) + '</div>' +
        '<div class="ev-skill">' + esc(ev.skill) + '</div>' +
      '</div>' +
      '<div class="ev-desc">' + esc(ev.description || '') + '</div>' +
      delivHtml;
    evGrid.appendChild(card);
  });

  // 05 — Interview prep
  const intGrid = document.getElementById('interviewGrid');
  const intSection = document.getElementById('interviewSection');
  intGrid.innerHTML = '';
  if (data.interview_prep && data.interview_prep.length) {
    intSection.style.display = 'block';
    data.interview_prep.forEach(function(ip) {
      const card = document.createElement('div');
      card.className = 'interview-card';
      let qHtml = '';
      if (ip.questions && ip.questions.length) {
        qHtml = ip.questions.map(function(q) { return '<div class="interview-q">' + esc(q) + '</div>'; }).join('');
      }
      card.innerHTML =
        '<div class="interview-skill">' + esc(ip.skill) + '</div>' +
        '<div class="interview-difficulty">' + esc(ip.difficulty || 'Intermediate') + '</div>' +
        qHtml;
      intGrid.appendChild(card);
    });
  }

  // 06 — Related jobs
  const jobsList = document.getElementById('jobsList');
  const jobsSection = document.getElementById('jobsSection');
  jobsList.innerHTML = '';
  if (data.related_jobs && data.related_jobs.length) {
    jobsSection.style.display = 'block';
    data.related_jobs.forEach(function(job) {
      const pct = Math.round((job.score || 0) * 100);
      const card = document.createElement('div');
      card.className = 'job-card';
      let skillsHtml = '';
      if (job.skills && job.skills.length) {
        skillsHtml = job.skills.map(function(s) { return '<span class="jskill">' + esc(s) + '</span>'; }).join('');
      }
      card.innerHTML =
        '<div class="job-match">' + pct + '%<small>MATCH</small></div>' +
        '<div class="job-info">' +
          '<div class="job-title">' + esc(job.job_title || 'Unknown') + '</div>' +
          '<div class="job-co">' + esc(job.company || '') + '</div>' +
          '<div class="job-skills">' + skillsHtml + '</div>' +
        '</div>' +
        '<div class="job-arrow">&rarr;</div>';
      jobsList.appendChild(card);
    });
  }

  // Latency
  document.getElementById('latencyBar').innerHTML =
    'Analysis completed in <span>' + data.latency_ms + 'ms</span> &middot; Request ID: ' + data.request_id;

  // Scroll to results
  results.scrollIntoView({ behavior: 'smooth', block: 'start' });
}

// HTML escape helper
function esc(s) {
  if (!s) return '';
  var d = document.createElement('div');
  d.textContent = s;
  return d.innerHTML;
}

// Fade in sections on scroll
var observer = new IntersectionObserver(function(entries) {
  entries.forEach(function(e) {
    if (e.isIntersecting) { e.target.style.opacity = '1'; e.target.style.transform = 'none'; }
  });
}, { threshold: 0.1 });
document.querySelectorAll('.section, .cta-section, .stack-section, .stats-bar').forEach(function(el) {
  el.style.opacity = '0'; el.style.transform = 'translateY(30px)';
  el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
  observer.observe(el);
});
</script>
</body>
</html>
